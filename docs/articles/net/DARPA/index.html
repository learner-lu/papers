<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Document
    </title>
    <link rel='stylesheet' href=../../../css/index.css />
    
    <link rel="icon" href="https://raw.githubusercontent.com/learner-lu/picbed/master/logo.png">
</head>

<body class="light">
    <a href="https://github.com/learner-lu/papers" target="_blank" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <div class="header-navigator"><ul><li><a href="#h1-0">The Design Philosophy of the DARPA Internet Protocols</a><ul><li><a href="#h2-1">论文基本情况</a></li></ul><ul><li><a href="#h2-2">论文摘要(Abstract)</a></li></ul><ul><li><a href="#h2-3">研究动机(Motivation/Introduction)</a></li></ul><ul><li><a href="#h2-4">相关工作(Related Work)</a></li></ul><ul><li><a href="#h2-5">解决方案(Solution)</a></li></ul><ul><li><a href="#h2-6">实验结果(Evaluation)</a></li></ul><ul><li><a href="#h2-7">结论(Conclusion)</a></li></ul><ul><li><a href="#h2-8">自己的思考</a><ul><li><a href="#h3-9">阅读本文的收获和感想</a></li></ul><ul><li><a href="#h3-10">本文提出方案存在的缺陷和可能的改进方法</a></li></ul></li></ul><ul><li><a href="#h2-11">fate-shareing</a></li></ul><ul><li><a href="#h2-12">参考</a></li></ul></li></ul></div><div class='markdown-body'><h1 id="h1-0">The Design Philosophy of the DARPA Internet Protocols</h1><blockquote><p><a href="https://dl.acm.org/doi/abs/10.1145/52324.52336" target="_blank">acm dl</a> 1988 SIGCOMM</p></blockquote><h2 id="h2-1">论文基本情况</h2><ul><li>论文标题:    The Design Philosophy of the DARPA Internet Protocols</li></ul><ul><li>发表会议/期刊: Proc. SIGCOMM &#x27;88, Computer Communication Review Vol. 18, No. 4, August 1988, pp. 106–114</li></ul><h2 id="h2-2">论文摘要(Abstract)</h2><p>早期的互联网协议簇 TCP/IP由DARPA开发,现已广泛用于军事和商业系统.本文不关注网络协议如何实现的,而是关注早期网络协议的设计思路.</p><h2 id="h2-3">研究动机(Motivation/Introduction)</h2><p>本文不是一篇传统的学术科学研究性质的论文,而是对互联网架构以及网络协议的产生和设计的历史回顾与思考,与此同时对设计历史的理解也为当前的设计扩展提供了参考原型,现代 ISO 协议的种种特性比如无连接配置的设计被互联网套件的历史所影响.本文对互联网架构的原始目标进行了讨论,分析了这些目标与协议的重要特征之间的关系.</p><h2 id="h2-4">相关工作(Related Work)</h2><p>本文是对互联网历史以及架构设计的回顾,相关工作集中于早期的架构设计方案以及协议方案.</p><h2 id="h2-5">解决方案(Solution)</h2><p>DARPA 的初始任务是开发一种有效的技术来复用现有互连网络.在设计之初就有考虑过多种类型的网络以及未来的网络结构设计,希望将多个单独的实体统一加入到一个统一的网络当中,最终选择使用分组交换技术作为互联网架构的底层传输手段,通过一系列分组交换通信设施例如网关,将许多不同的网络连接在一起.</p><p>网络设计的目标是有顺序的,不同的场景下优先级不同.例如军事环境下优先考虑的是集中一切可用资源并以可操作的方式快速部署它们,而并不关心所用资源的详细核算.商业环境下则恰恰相反.</p><p>其中网络的首要目的是保证通信,除非所有的物理传输通路全部被切断.同时这种架构不保证发送方和接收方的信息同步问题,只要没有全局故障,该架构总是可以处理局部的短暂故障.为了达成这个目标,网络需要维护信息状态避免丢失.但由于复制的分布式特性,确保稳健复制的算法本身很难构建,并且很少有具有分布式状态信息的网络提供任何类型的故障保护,期望每一个节点都同步的复制信息十分困难,因此网络转而选择将同步的任务交给主机端和服务端.进而引出关于  fate-shareing 的概念,可以防止任意数量的中间故障,而复制只能防止一定数量的中间故障(小于复制副本的数量).比分布式的复制更容易设计与实现.</p><p>第二个目标是希望网络架构可以支持多种设备类型.但实际上考虑到不同的服务对于延迟/带宽/可靠性的敏感度要求不同,因此试图将所有这些服务的支持构建到一个协议中是很困难的,单一的 TCP 协议无法满足所有需求.因此将 TCP/IP 拆分为传输可靠数据流的 TCP 和传输数据包的 IP 协议.除此之外设计的网络结构很难去满足各种类型的服务,特定的网络结构只能满足某一类服务的需求.网络结构的设计十分成功,因为它仅仅做出了一些关键性的假设</p><ol start="1"><li>可以传输数据包或数据报</li></ol><ol start="2"><li>包大小适中</li></ol><ol start="3"><li>传输的可靠性合理</li></ol><ol start="4"><li>合理的寻址方式</li></ol><p>同时把更多的设计空间留给各自的网络结构,这样可以避免在每个网络和主机网络接口都需要考虑大量复杂的设计以适应各种类型的网络结构.可以在工程上完成很简洁的网络接口实现.</p><p>接着讲了一些次要目标,包括前文提到的</p><ol start="1"><li>分布式</li></ol><ol start="2"><li>成本效益</li></ol><ol start="3"><li>主机易实现(主机端接口设计)</li></ol><ol start="4"><li>可以计算流量</li></ol><p>当时看来很多尚未解决的问题(比如路由选择算法,流量计算)现如今都已经有了成熟的解决方案,大部分的协议(TCP HTTP SMTP)也都有数据包恢复机制以减小网络流量;主机端网络协议实现也已经由操作系统内核网络协议栈 + 网卡 + 网卡驱动负责了,socket接口也还算简洁.</p><p>除此之外数据包恢复机制十分重要,如果互联网协议不提供数据包恢复机制,那么在数据包丢失时需要重新传输数据包,可能导致数据包多次经过中间网络,而如果有网络层面的恢复机制,就可以避免这种重复传输.例如大文件被分成多个小数据包来传输,在传输过程中,某个数据包丢失了,如果该协议有数据包恢复机制,服务器可以仅要求重新传输丢失的那个数据包,而不是整个文件.这将减少网络上的流量</p><p>由于最开始网络主机数量有限所以可以接受,但随着互联网规模的扩张,主机数量增多,同时由于最初 fate-shareing 的设计,部分节点的失联不会导致整体稳定性的破坏,传输节点不记录关键信息状态,因此计算压力给到了个体主机本身算法(host-resident mechanism)的实现.</p><p>网络架构设计是一个很笼统的概念,具体到实际应用的网络结构以及采用的网络协议,不同的架构和协议在差距很大,需要具体分析.于此同时如何为为网络的实现者提供有效的指导以满足不同服务也十分重要.对于性能的约束不应该被写入标准规范,但同时架构设计与性能的关系又很复杂.</p><p>数据报的设计很巧妙,既完成了网络设计的基本任务,同时也给了网络协议实现很大的操作空间.但一个经典的误区是&quot;数据报的动机是支持更高级别的服务&quot;,理由是应用程序需要的传输服务是数据报服务.这种说法仅适用于简单数据报可以支持的服务,但实际上大部分服务由于需要考虑差错/延迟/可靠性,所采用了要比数据块复杂得多的设计,所以这个说法是错误的.</p><p>最后介绍了 TCP 设计的构想,最初选择字节传输</p><ol start="1"><li>在数据流中插入控制信息(实现复杂)</li></ol><ol start="2"><li>可以根据主机配置被拆为更小的包(交给IP处理)</li></ol><ol start="3"><li>整合多个小TCP包,方便远程登陆的字符传输,由 UNIX 的实现转为协议的事实标准</li></ol><p>但也承认了 TCP 设计的一些不合理之处,比如 Buffer 大小选择, 比如 PSH 语义模糊.</p><h2 id="h2-6">实验结果(Evaluation)</h2><p>本文没有实验部分</p><h2 id="h2-7">结论(Conclusion)</h2><p>互联网架构在优先事项方面取得了巨大成功,广泛应用于商业和军事领域,同时催生了许多类似的架构.然而也暴露出了设计者的优先级与实际用户需求不一致的问题.虽然数据报在解决互联网的核心目标方面表现出色,但在解决次要目标时却存在问题.</p><p>采用数据包模型后,互联网层失去了一些有助于其实现目标的信息来源,可能会导致互联网层在某些方面的性能或功能方面受到限制.比如不可靠,无法保证顺序传输,没有状态信息,路由和转发问题,没有信息源等等.</p><p>最后作者还提出了关于未来互联网流式传输,软状态的一些构想,但时至今日似乎还是数据包的天下.</p><h2 id="h2-8">自己的思考</h2><h3 id="h3-9">阅读本文的收获和感想</h3><p>通读全文,作者思路很清晰文笔很流畅.围绕最早期的网络架构设计的初始目标,以及在此基础之上的其余目标逐层展开介绍,为了维持通信采用 fate-shareing 的设计,采用无状态的设计,以及后文对于数据包设计的解释,对于TCP流式传输设计的优劣之处讨论都非常值得思考.</p><p>作者也相当具有远见,当时看来很多尚未解决的问题(比如路由选择算法,流量计算)现如今都已经有了成熟的解决方案,大部分的协议(TCP HTTP SMTP)也都有数据包恢复机制以减小网络流量;主机端网络协议实现也已经由操作系统内核网络协议栈 + 网卡 + 网卡驱动负责了.</p><h3 id="h3-10">本文提出方案存在的缺陷和可能的改进方法</h3><p>早期TCP 流式传输的设计存在缺陷,将一些将序列空间和主机的缓冲区管理算法相关联的方法纳入 TCP 中是正确的想法.当时的设计师们没能实现这一点.</p><p>采用数据包模型后,互联网层失去了一些有助于其实现目标的信息来源,可能会导致互联网层在某些方面的性能或功能方面受到限制.也带来了种种问题,比如不可靠,无法保证顺序传输,没有状态信息,路由和转发问题,没有信息源等等</p><h2 id="h2-11">fate-shareing</h2><p>fate-shareing 是一个工程设计哲学,关键是确保相关系统的部分要么一起失败,要么不失败.这个定义强调了关联部分之间的紧密联系,以确保它们在失败时保持一致</p><p>在网络领域,Fate-sharing 可以应用于确保网络中的各种组件或节点之间的状态一致性和可用性.如果某些部分共享他们的命运,这意味着它们要么一起成功,要么一起失败.这有助于确保系统在某些组件或节点发生故障时不会出现不一致的情况,从而提高了系统的可用性和可维护性.</p><p>这一概念的关键点在于,如果某个组件或节点无法正常工作,它的状态信息不应该被丢失,因为这可能会导致系统中的不一致性.因此,Fate-sharing 的目标是确保在失败时系统能够以一致的方式处理状态信息,以维护整个系统的一致性</p><h2 id="h2-12">参考</h2><ul><li><a href="https://en.wikipedia.org/wiki/Fate-sharing" target="_blank">Fate-sharing</a></li></ul></div>
    <div class="dir-tree"><ul><li><a href="../../md-docs/README" >README</a></li></ul><ul><li><a href="../../arch/CXL-SSD" >arch</a><ul><li><a href="../../arch/CXL-SSD" >CXL-SSD</a></li></ul><ul><li><a href="../../arch/Pond" >Pond</a></li></ul><ul><li><a href="../../arch/Design and analysis" >Design and analysis</a></li></ul><ul><li><a href="../../arch/gem5" >gem5</a></li></ul><ul><li><a href="../../arch/enable-cxl-IMDBMS" >enable-cxl-IMDBMS</a></li></ul></li></ul><ul><li><a href="../../net/DARPA" >net</a><ul><li><a href="../../net/DARPA" >DARPA</a></li></ul></li></ul></div>
    <div class="zood"><a class="" href="https://github.com/luzhixing12345/zood" target="_blank">zood</a></div>
    <script type="text/javascript" src="../../../js/next_front.js"></script><script>addLink("../../arch/enable-cxl-IMDBMS",".","ab")</script><script type="text/javascript" src="../../../js/change_mode.js"></script><script>addChangeModeButton("../../../img/sun.png","../../../img/moon.png")</script><script type="text/javascript" src="../../../js/copy_code.js"></script><script>addCodeCopy("../../../img/before_copy.png","../../../img/after_copy.png")</script><script type="text/javascript" src="../../../js/navigator.js"></script><script type="text/javascript" src="../../../js/picture_preview.js"></script><script type="text/javascript" src="../../../js/global_js_configuration.js"></script>
</body>

</html>